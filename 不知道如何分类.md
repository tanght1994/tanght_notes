# TLS SSL HTTPS

![image-20220613222407319](assets/image-20220613222407319.png)

**假设客户端拥有服务器的公钥：**

1. 客户端选择对称加密算法和对称加密密钥，将算法和密钥用服务器的公钥加密之后发送给服务器。
2. 服务器用自己的私钥解密出对称加密算法与对称加密密钥。
3. 此后服务器与客户端通过对称加密进行通信。

**上面是假设客户端拥有服务器的公钥，如何让客户端真的拥有服务器的公钥？**

- 通信之前先访问服务器获取服务器的公钥：不行，客户端怎么知道访问的是不是黑客？
- 客户端程序员去服务器公司，询问服务器的程序员公钥是什么，将服务器公钥手写在纸上拿回来，内置到客户端程序中：可以，但是太费程序员了！
- 通过证书来验证公钥的合法性：可以





# 免费HTTPS

let's encrypt是一个公益组织，免费给大家发送HTTPS证书，但是手动操作起来有些复杂，所以这个组织开发了一个软件来自动化生成证书，这个软件叫做certbot，安装certbot然后运行它，会进入一个交互页面（当然是Linux的命令行交互页面，不是可视化页面），然后跟着提示输入一些必要的信息即可

```
# 安装certbot
yum install certbot
```

交互流程

![image-20231207012451725](./assets/image-20231207012451725.png)
